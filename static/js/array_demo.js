// Generated by CoffeeScript 1.6.3
(function() {
  var change_item, cond, delay, inc, init_i, start_animation;

  delay = 1500;

  start_animation = function() {
    var arr_item, code, default_values, figure, i, running_code, table, _i;
    figure = $('figure.run');
    table = figure.find('table');
    code = figure.find('div.code');
    default_values = new Array(34, 1, 180, 92, 17, 17, 0, 12);
    for (i = _i = 1; _i <= 8; i = ++_i) {
      arr_item = table.find('tr:nth-child(2)').find(':nth-child(' + i + ')');
      arr_item.text(default_values[i - 1]);
      arr_item.addClass('changed');
    }
    running_code = code.find('#create-array');
    running_code.addClass('running');
    return window.setTimeout(function() {
      var _j;
      for (i = _j = 1; _j <= 8; i = ++_j) {
        arr_item = table.find('tr:nth-child(2)').find(':nth-child(' + i + ')');
        arr_item.removeClass('changed');
      }
      running_code.removeClass('running');
      return init_i(figure);
    }, delay);
  };

  init_i = function(figure) {
    var code, running_code;
    code = figure.find('div.code');
    running_code = code.find('#init');
    running_code.addClass('running');
    return window.setTimeout(function() {
      running_code.removeClass('running');
      return cond(figure, 1);
    }, delay);
  };

  cond = function(figure, index) {
    var code, running_code;
    code = figure.find('div.code');
    running_code = code.find('#cond');
    running_code.addClass('running');
    if (index <= 8) {
      return window.setTimeout(function() {
        running_code.removeClass('running');
        return change_item(figure, index);
      }, delay);
    } else {
      return window.setTimeout(function() {
        running_code.removeClass('running');
        return start_animation(figure);
      }, delay);
    }
  };

  change_item = function(figure, index) {
    var arr_item, code, index_item, running_code, table;
    table = figure.find('table');
    arr_item = table.find('tr:nth-child(2)').find(':nth-child(' + index + ')');
    console.log(index + ": " + arr_item.text());
    arr_item.text(parseInt(arr_item.text()) + 1);
    arr_item.addClass('changed');
    index_item = table.find('tr:nth-child(1)').find(':nth-child(' + index + ')');
    index_item.addClass('selected-index');
    code = figure.find('div.code');
    running_code = code.find('#inc-array');
    running_code.addClass('running');
    return window.setTimeout(function() {
      arr_item.removeClass('changed');
      index_item.removeClass('selected-index');
      running_code.removeClass('running');
      return inc(figure, index);
    }, delay);
  };

  inc = function(figure, index) {
    var code, running_code;
    code = figure.find('div.code');
    running_code = code.find('#inc');
    running_code.addClass('running');
    return window.setTimeout(function() {
      running_code.removeClass('running');
      return cond(figure, index + 1);
    }, delay);
  };

  $(document).ready(start_animation);

}).call(this);
